{"ast":null,"code":"import Axios from 'axios';\nexport function CheckApiLogin(event, username, password) {\n  event.preventDefault();\n  var data = {\n    username: username,\n    password: password\n  };\n  console.log(JSON.stringify(data));\n  Axios.post('http://localhost:8080/login', JSON.stringify(data), {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(function (response) {\n    localStorage.setItem('Token', response.data);\n    Axios.post('http://localhost:8080/jwt', data, {\n      headers: {\n        \"Authorization\": response.data,\n        'Content-Type': 'application/json'\n      }\n    }).then(function (response1) {\n      localStorage.clear();\n      localStorage.setItem('Username', response1.data);\n      localStorage.setItem('statusContact', 0);\n      localStorage.setItem('statusColorHome', 0);\n      window.location = \"/\";\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }).catch(function (error) {\n    alert(\"Sai tài khoản hoặc mật khẩu, xin vui lòng nhập lại!\");\n    console.log(error);\n  });\n}\n_c = CheckApiLogin;\nexport function GetUsername() {\n  var data = {};\n  var Token = localStorage.getItem('Token');\n  Axios.post('http://localhost:8080/jwt', data, {\n    headers: {\n      \"Authorization\": Token,\n      'Content-Type': 'application/json'\n    }\n  }).then(function (response) {\n    localStorage.setItem('Username', response.data);\n  }).catch(function (error) {\n    console.log(error);\n  });\n  var nameStr = localStorage.getItem('Username');\n  return nameStr;\n}\n_c2 = GetUsername;\nexport function LogOutFun() {\n  localStorage.removeItem('Token');\n  localStorage.removeItem('Username');\n  window.location = \"/\";\n}\n_c3 = LogOutFun;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"CheckApiLogin\");\n$RefreshReg$(_c2, \"GetUsername\");\n$RefreshReg$(_c3, \"LogOutFun\");","map":{"version":3,"sources":["/Users/macoc/Documents/FE_React/Book-Reviews-FrontEnd/src/redux/reduxLogin.js"],"names":["Axios","CheckApiLogin","event","username","password","preventDefault","data","console","log","JSON","stringify","post","headers","then","response","localStorage","setItem","response1","clear","window","location","catch","error","alert","GetUsername","Token","getItem","nameStr","LogOutFun","removeItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,SAASC,aAAT,CAAuBC,KAAvB,EAA8BC,QAA9B,EAAwCC,QAAxC,EAAkD;AACvDF,EAAAA,KAAK,CAACG,cAAN;AACA,MAAIC,IAAI,GAAG;AAACH,IAAAA,QAAQ,EAAEA,QAAX;AAAqBC,IAAAA,QAAQ,EAAEA;AAA/B,GAAX;AACAG,EAAAA,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAAZ;AACAN,EAAAA,KAAK,CAACW,IAAN,CAAW,6BAAX,EAA0CF,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAA1C,EAA+D;AAC7DM,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT;AADoD,GAA/D,EAKGC,IALH,CAKQ,UAAUC,QAAV,EAAoB;AACxBC,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA6BF,QAAQ,CAACR,IAAtC;AACAN,IAAAA,KAAK,CAACW,IAAN,CAAW,2BAAX,EAAwCL,IAAxC,EAA6C;AAC7CM,MAAAA,OAAO,EAAE;AACP,yBAAiBE,QAAQ,CAACR,IADnB;AAEP,wBAAgB;AAFT;AADoC,KAA7C,EAMCO,IAND,CAMM,UAAUI,SAAV,EAAqB;AACzBF,MAAAA,YAAY,CAACG,KAAb;AACAH,MAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAgCC,SAAS,CAACX,IAA1C;AACAS,MAAAA,YAAY,CAACC,OAAb,CAAqB,eAArB,EAAqC,CAArC;AACAD,MAAAA,YAAY,CAACC,OAAb,CAAqB,iBAArB,EAAwC,CAAxC;AACAG,MAAAA,MAAM,CAACC,QAAP,GAAkB,GAAlB;AACD,KAZD,EAaCC,KAbD,CAaO,UAAUC,KAAV,EAAiB;AACtBf,MAAAA,OAAO,CAACC,GAAR,CAAYc,KAAZ;AACD,KAfD;AAgBD,GAvBH,EAwBGD,KAxBH,CAwBS,UAAUC,KAAV,EAAiB;AACtBC,IAAAA,KAAK,CAAC,qDAAD,CAAL;AACAhB,IAAAA,OAAO,CAACC,GAAR,CAAYc,KAAZ;AACD,GA3BH;AA4BD;KAhCerB,a;AAkChB,OAAO,SAASuB,WAAT,GAAuB;AAC5B,MAAIlB,IAAI,GAAG,EAAX;AACA,MAAImB,KAAK,GAAGV,YAAY,CAACW,OAAb,CAAqB,OAArB,CAAZ;AACA1B,EAAAA,KAAK,CAACW,IAAN,CAAW,2BAAX,EAAwCL,IAAxC,EAA6C;AAC3CM,IAAAA,OAAO,EAAE;AACP,uBAAiBa,KADV;AAEP,sBAAgB;AAFT;AADkC,GAA7C,EAMGZ,IANH,CAMQ,UAAUC,QAAV,EAAoB;AACxBC,IAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAgCF,QAAQ,CAACR,IAAzC;AACD,GARH,EASGe,KATH,CASS,UAAUC,KAAV,EAAiB;AACtBf,IAAAA,OAAO,CAACC,GAAR,CAAYc,KAAZ;AACD,GAXH;AAaE,MAAIK,OAAO,GAAIZ,YAAY,CAACW,OAAb,CAAqB,UAArB,CAAf;AACA,SAAOC,OAAP;AACH;MAlBeH,W;AAoBhB,OAAO,SAASI,SAAT,GAAqB;AACxBb,EAAAA,YAAY,CAACc,UAAb,CAAwB,OAAxB;AACAd,EAAAA,YAAY,CAACc,UAAb,CAAwB,UAAxB;AAEAV,EAAAA,MAAM,CAACC,QAAP,GAAkB,GAAlB;AACH;MALeQ,S","sourcesContent":["import Axios from 'axios';\n\nexport function CheckApiLogin(event, username, password) {\n  event.preventDefault()\n  var data = {username: username, password: password};\n  console.log(JSON.stringify(data));\n  Axios.post('http://localhost:8080/login', JSON.stringify(data),{\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    })\n    .then(function (response) {\n      localStorage.setItem('Token',response.data);\n      Axios.post('http://localhost:8080/jwt', data,{\n      headers: {\n        \"Authorization\": response.data,\n        'Content-Type': 'application/json'\n      },\n      })\n      .then(function (response1) {\n        localStorage.clear();\n        localStorage.setItem('Username',response1.data);\n        localStorage.setItem('statusContact',0);\n        localStorage.setItem('statusColorHome', 0);\n        window.location = \"/\";\n      })\n      .catch(function (error) {\n        console.log(error);\n      })\n    })\n    .catch(function (error) {\n      alert(\"Sai tài khoản hoặc mật khẩu, xin vui lòng nhập lại!\");\n      console.log(error);\n    })\n}\n\nexport function GetUsername() {\n  var data = {};\n  var Token = localStorage.getItem('Token');\n  Axios.post('http://localhost:8080/jwt', data,{\n    headers: {\n      \"Authorization\": Token,\n      'Content-Type': 'application/json'\n    },\n    })\n    .then(function (response) {\n      localStorage.setItem('Username',response.data);\n    })\n    .catch(function (error) {\n      console.log(error);\n    })\n\n    var nameStr =  localStorage.getItem('Username');\n    return nameStr;\n}\n\nexport function LogOutFun() {\n    localStorage.removeItem('Token');\n    localStorage.removeItem('Username');\n    \n    window.location = \"/\";\n}"]},"metadata":{},"sourceType":"module"}