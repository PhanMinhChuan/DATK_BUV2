{"ast":null,"code":"import Axios from 'axios';\nexport function CheckApiLogin(event, username, password) {\n  event.preventDefault();\n  var data = {\n    username: username,\n    password: password\n  };\n  console.log(JSON.stringify(data));\n  Axios.post('http://localhost:8080/login', JSON.stringify(data), {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(function (response) {\n    localStorage.setItem('Token', response.data);\n  }).catch(function (error) {\n    alert(\"Sai tài khoản hoặc mật khẩu, xin vui lòng nhập lại!\");\n    console.log(error);\n  });\n}\n_c = CheckApiLogin;\nexport function GetUsername() {\n  var data = {};\n  var Token = localStorage.getItem('Token');\n  Axios.post('http://localhost:8080/jwt', data, {\n    headers: {\n      \"Authorization\": Token,\n      'Content-Type': 'application/json'\n    }\n  }).then(function (response) {\n    localStorage.setItem('Username', response.data);\n    window.location = \"/\";\n  }).catch(function (error) {\n    console.log(error);\n  });\n  var nameStr = localStorage.getItem('Username');\n  return nameStr;\n}\n_c2 = GetUsername;\nexport function LogOutFun() {\n  localStorage.removeItem('Token');\n  localStorage.removeItem('Username');\n  window.location = \"/\";\n}\n_c3 = LogOutFun;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"CheckApiLogin\");\n$RefreshReg$(_c2, \"GetUsername\");\n$RefreshReg$(_c3, \"LogOutFun\");","map":{"version":3,"sources":["/Users/macoc/Documents/FE_React/Book-Reviews-FrontEnd/src/redux/reduxLogin.js"],"names":["Axios","CheckApiLogin","event","username","password","preventDefault","data","console","log","JSON","stringify","post","headers","then","response","localStorage","setItem","catch","error","alert","GetUsername","Token","getItem","window","location","nameStr","LogOutFun","removeItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,SAASC,aAAT,CAAuBC,KAAvB,EAA8BC,QAA9B,EAAwCC,QAAxC,EAAkD;AACvDF,EAAAA,KAAK,CAACG,cAAN;AACA,MAAIC,IAAI,GAAG;AAACH,IAAAA,QAAQ,EAAEA,QAAX;AAAqBC,IAAAA,QAAQ,EAAEA;AAA/B,GAAX;AACAG,EAAAA,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAAZ;AACAN,EAAAA,KAAK,CAACW,IAAN,CAAW,6BAAX,EAA0CF,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAA1C,EAA+D;AAC7DM,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT;AADoD,GAA/D,EAKGC,IALH,CAKQ,UAAUC,QAAV,EAAoB;AACxBC,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA6BF,QAAQ,CAACR,IAAtC;AACD,GAPH,EAQGW,KARH,CAQS,UAAUC,KAAV,EAAiB;AACtBC,IAAAA,KAAK,CAAC,qDAAD,CAAL;AACAZ,IAAAA,OAAO,CAACC,GAAR,CAAYU,KAAZ;AACD,GAXH;AAYD;KAhBejB,a;AAkBhB,OAAO,SAASmB,WAAT,GAAuB;AAC5B,MAAId,IAAI,GAAG,EAAX;AACA,MAAIe,KAAK,GAAGN,YAAY,CAACO,OAAb,CAAqB,OAArB,CAAZ;AACAtB,EAAAA,KAAK,CAACW,IAAN,CAAW,2BAAX,EAAwCL,IAAxC,EAA6C;AAC3CM,IAAAA,OAAO,EAAE;AACP,uBAAiBS,KADV;AAEP,sBAAgB;AAFT;AADkC,GAA7C,EAMGR,IANH,CAMQ,UAAUC,QAAV,EAAoB;AACxBC,IAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAgCF,QAAQ,CAACR,IAAzC;AACAiB,IAAAA,MAAM,CAACC,QAAP,GAAkB,GAAlB;AACD,GATH,EAUGP,KAVH,CAUS,UAAUC,KAAV,EAAiB;AACtBX,IAAAA,OAAO,CAACC,GAAR,CAAYU,KAAZ;AACD,GAZH;AAcE,MAAIO,OAAO,GAAIV,YAAY,CAACO,OAAb,CAAqB,UAArB,CAAf;AACA,SAAOG,OAAP;AACH;MAnBeL,W;AAqBhB,OAAO,SAASM,SAAT,GAAqB;AACxBX,EAAAA,YAAY,CAACY,UAAb,CAAwB,OAAxB;AACAZ,EAAAA,YAAY,CAACY,UAAb,CAAwB,UAAxB;AAEAJ,EAAAA,MAAM,CAACC,QAAP,GAAkB,GAAlB;AACH;MALeE,S","sourcesContent":["import Axios from 'axios';\n\nexport function CheckApiLogin(event, username, password) {\n  event.preventDefault()\n  var data = {username: username, password: password};\n  console.log(JSON.stringify(data));\n  Axios.post('http://localhost:8080/login', JSON.stringify(data),{\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    })\n    .then(function (response) {\n      localStorage.setItem('Token',response.data);\n    })\n    .catch(function (error) {\n      alert(\"Sai tài khoản hoặc mật khẩu, xin vui lòng nhập lại!\");\n      console.log(error);\n    })\n}\n\nexport function GetUsername() {\n  var data = {};\n  var Token = localStorage.getItem('Token');\n  Axios.post('http://localhost:8080/jwt', data,{\n    headers: {\n      \"Authorization\": Token,\n      'Content-Type': 'application/json'\n    },\n    })\n    .then(function (response) {\n      localStorage.setItem('Username',response.data);\n      window.location = \"/\";\n    })\n    .catch(function (error) {\n      console.log(error);\n    })\n\n    var nameStr =  localStorage.getItem('Username');\n    return nameStr;\n}\n\nexport function LogOutFun() {\n    localStorage.removeItem('Token');\n    localStorage.removeItem('Username');\n    \n    window.location = \"/\";\n}"]},"metadata":{},"sourceType":"module"}